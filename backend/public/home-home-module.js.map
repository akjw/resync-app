{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home/home.component.ts","./src/app/home/home/home.component.html","./src/app/home/home.module.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomeComponent } from './home/home.component';\n\nconst routes: Routes = [\n  { path: '', component: HomeComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule { }\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { AuthService } from '../../auth/auth.service';\nimport { Chart } from 'chart.js';\nimport { Label } from 'ng2-charts';\nimport { DeptService } from '../../departments/dept.service';\nimport { OrgService } from '../../organizations/org.service';\nimport { EmpService } from '../../employees/emp.service';\n\n\ninterface Stats {\n  orgNum: number;\n  deptNum: number;\n  employeeNum: number;\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  @ViewChild('monthChart', {static: true}) monthChart: ElementRef;\n  @ViewChild('yearChart', {static: true}) yearChart: ElementRef;\n\n  showMonth = true;\n\n  stats: Stats\n  orgMonth: number;\n  deptMonth: number;\n  empMonth: number;\n\n  orgYear: number;\n  deptYear: number;\n  empYear: number;\n\n  months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  currentMonth = this.months[new Date().getMonth()]\n  currentYear = new Date().getFullYear().toString()\n  monthData: any;\n  yearData: any;\n\n  public barChartLabelsYear: Label[] = [this.currentYear];\n  public barChartLabelsMonth: Label[] = [this.currentMonth];\n \n  constructor(\n    private authService: AuthService,  \n    private deptService: DeptService,\n    private orgService: OrgService,\n    private empService: EmpService,\n    private elementRef: ElementRef\n    ) { }\n\n  onClick() {\n    this.showMonth = !this.showMonth;\n  }\n\n  ngOnInit(): void {\n\n    //Fetch statistics\n    this.authService.getStats().subscribe((data) => {\n      this.stats = data.stats;\n    })\n    \n    //Establish context for charts\n    let monthContext = (<HTMLCanvasElement>this.monthChart.nativeElement).getContext('2d');\n    let yearContext = (<HTMLCanvasElement>this.yearChart.nativeElement).getContext('2d');\n\n    //Fetch data for all documents created this month \n    this.orgService.getMonthOrgs().subscribe((data) => {\n      this.orgMonth = data.organizations\n      this.deptService.getMonthDepts().subscribe((data) => {\n        this.deptMonth = data.departments\n          this.empService.getMonthEmps().subscribe((data) => {\n            this.empMonth = data.employees\n            //draw chart to display month data\n              this.monthData = new Chart(monthContext, {\n                type: 'bar',\n                data: {\n                  datasets: [\n                  { data: [this.orgMonth], label: 'Organizations', backgroundColor: 'rgba(0, 181, 204, 1)'},\n                  { data: [this.deptMonth], label: 'Departments', backgroundColor: 'rgba(30, 139, 195, 1)'},\n                  { data: [this.empMonth], label: 'Employees', backgroundColor: 'rgba(137, 196, 244, 1)'}\n                ],\n                  labels: this.barChartLabelsMonth,\n        \n                },\n                options: {\n                  responsive: true,\n                  legend: {\n                    display: true\n                  },\n                  scales: {\n                    yAxes: [{\n                        ticks: {\n                            beginAtZero: true\n                        }\n                    }]\n                }\n                }\n            })\n          })\n      })\n    })\n\n    //Fetch data for all documents created this year\n    this.orgService.getYearOrgs().subscribe((data) => {\n      this.orgYear = data.organizations\n      this.deptService.getYearDepts().subscribe((data) => {\n        this.deptYear = data.departments\n          this.empService.getYearEmps().subscribe((data) => {\n            this.empYear = data.employees\n            //draw chart to display year data\n              this.yearData = new Chart(yearContext, {\n                type: 'bar',\n                data: {\n                  datasets: [\n                  { data: [this.orgYear], label: 'Organizations', backgroundColor: 'rgba(0, 181, 204, 1)'},\n                  { data: [this.deptYear], label: 'Departments', backgroundColor: 'rgba(30, 139, 195, 1)'},\n                  { data: [this.empYear], label: 'Employees', backgroundColor: 'rgba(137, 196, 244, 1)'}\n                ],\n                  labels: this.barChartLabelsYear,\n        \n                },\n                options: {\n                  responsive: true,\n                  legend: {\n                    display: true\n                  },\n                  scales: {\n                    yAxes: [{\n                        ticks: {\n                            beginAtZero: true\n                        }\n                    }]\n                }\n                }\n            })\n          })\n      })\n    })\n  }\n}\n","<h1>At A Glance</h1>\n<div class=\"ui statistics\">\n  <div class=\"statistic\">\n    <div class=\"value\">\n      {{ stats.orgNum }}\n    </div>\n    <div class=\"label\">\n      Total # Organizations\n    </div>\n  </div>\n  <div class=\"statistic\">\n    <div class=\"value\">\n      {{ stats.deptNum }}\n    </div>\n    <div class=\"label\">\n      Total # Departments\n    </div>\n  </div>\n  <div class=\"statistic\">\n    <div class=\"value\">\n      {{ stats.employeeNum }}\n    </div>\n    <div class=\"label\">\n      Total # Employees\n    </div>\n  </div>\n</div>\n<h2>Newly Added</h2>\n<a *ngIf=\"showMonth\" (click)=\"onClick()\" class=\"ui button primary small\">This Year</a>\n<a *ngIf=\"!showMonth\" (click)=\"onClick()\" class=\"ui button primary small\">This Month</a>\n<div [hidden]=\"!showMonth\">\n  <canvas #monthChart>{{ monthData }}</canvas>\n</div>\n<div [hidden]=\"showMonth\">\n  <canvas #yearChart>{{ yearData }}</canvas>\n</div>\n<script src=\"node_modules/chart.js/src/chart.js\"></script>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ChartsModule } from 'ng2-charts';\nimport { HomeRoutingModule } from './home-routing.module';\nimport { HomeComponent } from './home/home.component';\n\n\n@NgModule({\n  declarations: [HomeComponent],\n  imports: [\n    CommonModule,\n    HomeRoutingModule,\n    ChartsModule\n  ]\n})\nexport class HomeModule { }\n"],"sourceRoot":"webpack:///"}